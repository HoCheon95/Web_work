<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>정규식</title>
    <script>
      /*
            정규식(Regular Expression)
                ==> 일정한 패턴을 가지고 있는 문자열을 표현하는 식
            
            - 문자열의 패턴을 나타내는 정규식 문자(정규식에서 특정한 기능을 갖는 문자)
            1) ^ ==> 패턴문자의 처음 위치에 올 수 있고, 이것은 문자열의 시작을 의미한다.
                예) ^abc        ==> 'abc'로 시작하는 문자열을 의미한다.

            2) $ ==> 패턴문자의 맨 마지막 위치에 올 수 있고, 이것은 문자의 끝을 의미한다.
                예) abc$        ==> 'abc'로 끝나는 문자열을 의미한다.

            3) . ==> 이 문자가 있는 위치까지 임의의 한 문자가 올 수 있다.
                예) a.b         ==> aab, abb, acb, a1b, azb ...
            
            4) ? ==> 이 문자의 앞에 있는 문자가 0번 또는 1번 나타난다.
                예) ab?c        ==> ac, abc
            
            5) + ==> 이 문자의 앞에 있는 문자가 1번이상 반복된다.
                예) ab+c        ==> abc, abbc, abbbbc, abbbbbbc, ...
                
            6) * ==> 이 문자의 앞에 있는 문자가 0번이상 반복된다.
                예) ab*c        ==> ac, abc, abbc, abbbbc, abbbbbbc, ...
            
            7) | ==> or 연산자와 같은 기능이다.
                예) abc|xyz     ==> abc 또는 xyz
            
            8) () ==> 패턴을 그룹화 한다.
                예) a(b|c)d     ==> abd, acd 

            9) [문자들] ==> '문자들' 중 '한 문자'를 의미한다.
                        ==> '문자들'이 연속해서 순서대로 배치되는 상태면 '시작문자-끝문자'형태로 나타낼 수 있다.
                예) x[abcd]y    ==> xay, xby, xcy, xdy
                                ==> x[a-d]y와 같이 나타낼 수 있다.
                예) [0-9]       ==> 숫자 중 한 문자를 나타낸다.
                    [A-Za-z]    ==> 알파벳 중 한 문자를 나타낸다.
            
            10) {숫자}  ==> '{}'앞의 문자가 '숫자'회수 만큼 반복한다.
                예) ab{4}c      ==> abbbbc

                {숫자1, 숫자2}  ==>'{}'앞의 문자가 '숫자1' 이상 '숫자2'이하 만큼 반복된다.
                예) ab{2,4}c     ==> abbc, abbbc, abbbbc

                {숫자,}     ==> '{}'앞의 문자가 '숫자'이상 만큼 반복한다.
                예) ab{3, }c    ==> abbc, abbbbc, abbbbbbc, .....

            11) 패턴을 미리 정의해 놓은 명령 ==> 정규식의 '클래스 문자'라고 한다.
                ( 보통 '\문자'형태로 구성되어 있다. )
                 - \d   ==> [0-9]와 같다.
                 - \D   ==> '\d'의 반대 개념 (숫자가 아닌 것 중 하나)

                 - \w   ==> [0-9A-Za-z_] ==> 알파벳, 숫자, 밑줄문자 중 하나
                 - \W   ==> '\w'가 아닌 것 중 하나

                 - \s   ==> 공백문자(사이띄기, tab문자, 줄바꿈문자, 캐리지리턴) 중 하나
                 - \S   ==> '\s'가 아닌 것 중 하나
            
            12) 패턴 문자열에서 '패턴명령문자' 자체를 나타내려면 '패턴명령문자' 앞에 역슬래쉬(\)를 붙인다.
                (단, '[]'안에서 '패턴명령문자'를 나타낼 때는 '\'를 사용하지 않는다.)
                예) a*b     ==> 'a*b' (즉, '*'의 패턴 기능을 없앤다.)
                예) a[*+-]b ==> 'a*b', 'a+b', 'a-b'
        */

      //----------------------------------------------------------------------------------------------------

      /*
        - 정규식을 이용하여 패턴을 검사하기
        1) 정규식 객체를 생성해서 처리하는 방법
            형식1) const 객체변수 = new RegExp("패턴문자열", "옵션");
            형식2) const 객체변수 = new RegExp(/패턴문자열/, "옵션");
            형식3) const 객체변수 = /패턴문자열/옵션;   ==> '패턴문자열'과 '옵션'을 따옴표로 묶지 않는다.

            - 옵션
            (1) g ==> 전체 영역에서 검색한다.
            (2) i ==> 대소문자 구분없이 검색한다.
            (3) m ==> 여러줄의 내용이 있을 때 '패턴을 각 줄 단위로 적용'한다.

            ==> 위의 옵션의 문자들은 서로 혼용해서 사용할 수 있다.
            예) /패턴문자열/gi  ==> 전체 영역에서 대소문자 구분없이 검색한다.

        2) 패턴을 처리하는 메서드들
            - 객체변수.exec( 검사할 문자열 );
                ==> '검사할 문자열'에서 '패턴'에 맞는 패턴을 찾아서 배열로 반환한다.
                    '패턴'에 맞는 문자열이 없으면 'null'을 반환한다.
                ==> '패턴'의 옵션과 관계없이 '패턴'에 맞는 첫번째 것을 찾아서 배열에 담아 반환한다.
            
            - 객체변수.test( 검사할 문자열 );
                ==> '검사할 문자열'이 '패턴'에 맞는 것이 있으면 true, 그렇지 않으면 false 반환
            
            - 검사할문자열.match(패턴문자열 또는 객체변수);
                ==> '검사할문자열'에서 '패턴'에 맞는 패턴을 찾아서 배열로 반환한다.
                    '패턴'에 맞는 문자열이 없으면 'null'을 반환한다.
                ==> 보통 '패턴'의 옵션 중 'g'를 붙이지 않으면 첫번째로 찾아진 '패턴' 1개를 배열에 담아서 반환하고, 
                    'g'옵션을 붙이면 '패턴'에 맞는 모든 것을 찾아 배열에 담아서 반환한다.

            ==> '개체변수' 대신 '/패턴문자열/옵션'와 같이 정규식을 직접 사용할 수 있다.

        */

      //exec() 메서드와 match()메서드의 차이점 알아보기
      /* 
       const appleStr = "사과주스 사과쨈 사과즙";

    //    const regexp = /사과/;
       const regexp = /사과/g;

       console.log("exec", regexp.exec(appleStr));

       console.log("match", appleStr.match(regexp));
    //-----------------------------------------------------
 */

        const view = () =>{
            const str = document.querySelector("#txtData").value;

            /*
            -휴대폰 번호의 패턴 만들기
                010-1234-5678

                ^010-[0-9]{4}-[0-9]{4}$

                ^010-[1-9][0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]$
                ^010-[1-9][0-9]{3}}-[0-9]{4}}$
            */

            // console.log( str, /^010-[0-9]{4}-[0-9]{4}$/.test(str) );
            // console.log( str, /^010-[1-9][0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]$/.test(str) );
            // console.log( str, str.match(/^010-[1-9]{3}}-[0-9]{4}}$/));

            /*
                -주민번호 패턴 만들기
                    ABCDEF-GHJKLM           ==> 001231
                                        01 ~~ 09 10 11 12
                                        01 ~~ 09 10 ~ 19 20 ~29 30 31


                ^[0-9]{6}-[0-9]{7}$
                ^\d{6}-d{7}$

                ^$[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])-[1-8][0-9]{6}$

            */
        //    const regExp = new RegExp("^[0-9]{6}-[0-9]{7}$");
        // const regExp1 = new RegExp(/^\d{6}-\d{7}$/);
        // const regExp2 = new RegExp("^\\d{6}-\\d{7}$");

        //    console.log(1, regExp1.test(str));
        //    console.log(2, regExp2.test(str));
        //    const regExp3 = new RegExp("^$[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])-[1-8][0-9]{6}$")
        //    console.log(3, regExp3.test(str));
        // -------------------------------------------------------------------------

        /*
        - 이메일 주소 패턴 만들기
            ID@도메인주소            ==> dditman123@ddit.or.kr
                                    ==> dditMan123@ddit.com
                ^[A-Za-z0-9_-]+@[A-Za-z0-9_-]+(\.[A-Za-z0-9_-]+){1,2}$
        */
    //    const emailExp = /^[A-Za-z0-9_-]+@[A-Za-z0-9_-]+(\.[A-Za-z0-9_-]+){1,2}$/;
    //    console.log(emailExp.test(str));

        /*
        - 한글 패턴 만들기
            [A-Z]   [ㄱ-힣]
        */
       console.log(/^[가-힣]{2,}/.test(str));
       if(/^[가-힣]{2,}/.test(str) == false){
            alert('한글만 2글자 이상 입력하세요...');
       };

        }
    </script>
  </head>
  <body>
    검사할 데이터 : <input type="text" id="txtData" name="txtData" />
    <input type="button" value="확 인" onclick="view()" />
  </body>
</html>
